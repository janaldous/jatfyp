{% load static %}

<html>
<head>
  <link rel="stylesheet" type="text/css" href="{% static 'clusters/css/map.css' %}">
  <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.1.1.min.js"></script>
</head>

<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
  </script>
<body>
  <div id="xhnzaskDzu" style="padding:5px; height: 400px;"><div style="position: relative;"><div dir="ltr" style="position: relative; width: 930px; height: 390px;"><div aria-label="A chart." style="position: absolute; left: 0px; top: 0px; width: 100%; height: 100%;"><svg width="930" height="390" aria-label="A chart." style="overflow: hidden;"><defs id="defs"><clipPath id="_ABSTRACT_RENDERER_ID_0"><rect x="140" y="75" width="651" height="241"></rect></clipPath></defs><rect x="0" y="0" width="930" height="390" stroke="none" stroke-width="0" fill="#ffffff"></rect><g><text text-anchor="start" x="140" y="49.9" font-family="Arial" font-size="14" font-weight="bold" stroke="none" stroke-width="0" fill="#000000">question</text><rect x="140" y="38" width="651" height="14" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></rect></g><g><rect x="805" y="75" width="111" height="78" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></rect><g><rect x="805" y="75" width="111" height="14" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></rect><g><text text-anchor="start" x="838" y="86.9" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#222222">Orig Value</text></g><rect x="805" y="75" width="28" height="14" stroke="none" stroke-width="0" fill="#3366cc"></rect></g><g><rect x="805" y="98" width="111" height="14" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></rect><g><text text-anchor="start" x="838" y="109.9" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#222222">Percent</text></g><rect x="805" y="98" width="28" height="14" stroke="none" stroke-width="0" fill="#dc3912"></rect></g><g><rect x="805" y="121" width="111" height="32" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></rect><g><text text-anchor="start" x="838" y="132.9" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#222222">Diff from</text><text text-anchor="start" x="838" y="150.9" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#222222">Avg</text></g><rect x="805" y="121" width="28" height="14" stroke="none" stroke-width="0" fill="#ff9900"></rect></g></g><g><rect x="140" y="75" width="651" height="241" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></rect><g clip-path="url(http://localhost:8000/clusters/groupcompare/1/#_ABSTRACT_RENDERER_ID_0)"><g><rect x="140" y="315" width="651" height="1" stroke="none" stroke-width="0" fill="#cccccc"></rect><rect x="140" y="255" width="651" height="1" stroke="none" stroke-width="0" fill="#cccccc"></rect><rect x="140" y="195" width="651" height="1" stroke="none" stroke-width="0" fill="#cccccc"></rect><rect x="140" y="135" width="651" height="1" stroke="none" stroke-width="0" fill="#cccccc"></rect><rect x="140" y="75" width="651" height="1" stroke="none" stroke-width="0" fill="#cccccc"></rect></g><g><rect x="158" y="245" width="19" height="10" stroke="none" stroke-width="0" fill="#3366cc"></rect><rect x="251" y="77" width="19" height="178" stroke="none" stroke-width="0" fill="#3366cc"></rect><rect x="344" y="234" width="18" height="21" stroke="none" stroke-width="0" fill="#3366cc"></rect><rect x="437" y="182" width="18" height="73" stroke="none" stroke-width="0" fill="#3366cc"></rect><rect x="530" y="219" width="18" height="36" stroke="none" stroke-width="0" fill="#3366cc"></rect><rect x="623" y="188" width="18" height="67" stroke="none" stroke-width="0" fill="#3366cc"></rect><rect x="715" y="250" width="19" height="5" stroke="none" stroke-width="0" fill="#3366cc"></rect><rect x="178" y="255.36285714285714" width="18" height="0.5" stroke="none" stroke-width="0" fill="#dc3912"></rect><rect x="271" y="255.3627255278311" width="18" height="0.5" stroke="none" stroke-width="0" fill="#dc3912"></rect><rect x="363" y="255.38" width="19" height="0.5" stroke="none" stroke-width="0" fill="#dc3912"></rect><rect x="456" y="255.3597624703088" width="19" height="0.5" stroke="none" stroke-width="0" fill="#dc3912"></rect><rect x="549" y="255.37495798319327" width="19" height="0.5" stroke="none" stroke-width="0" fill="#dc3912"></rect><rect x="642" y="255.3310280373832" width="18" height="0.5" stroke="none" stroke-width="0" fill="#dc3912"></rect><rect x="735" y="255.4157894736842" width="18" height="0.5" stroke="none" stroke-width="0" fill="#dc3912"></rect><rect x="197" y="255.5000329037565" width="19" height="0.5" stroke="none" stroke-width="0" fill="#ff9900"></rect><rect x="290" y="255" width="18" height="0.5" stroke="none" stroke-width="0" fill="#ff9900"></rect><rect x="383" y="255.50431861804222" width="18" height="0.5" stroke="none" stroke-width="0" fill="#ff9900"></rect><rect x="476" y="255.49703694247768" width="18" height="0.5" stroke="none" stroke-width="0" fill="#ff9900"></rect><rect x="569" y="255.50305811384055" width="18" height="0.5" stroke="none" stroke-width="0" fill="#ff9900"></rect><rect x="661" y="255.46830250955207" width="19" height="0.5" stroke="none" stroke-width="0" fill="#ff9900"></rect><rect x="754" y="255.51326598646327" width="19" height="0.5" stroke="none" stroke-width="0" fill="#ff9900"></rect></g><g><rect x="140" y="255" width="651" height="1" stroke="none" stroke-width="0" fill="#333333"></rect></g></g><g></g><g><g><text text-anchor="middle" x="186.92857142857144" y="336.9" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#222222">disabled</text></g><g><text text-anchor="middle" x="279.7857142857143" y="336.9" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#222222">all</text></g><g><text text-anchor="middle" x="372.64285714285717" y="336.9" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#222222">child</text><text text-anchor="middle" x="372.64285714285717" y="354.9" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#222222">benefits</text></g><g><text text-anchor="middle" x="465.5" y="336.9" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#222222">employee in</text><text text-anchor="middle" x="465.5" y="354.9" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#222222">full-time job</text></g><g><text text-anchor="middle" x="558.3571428571429" y="336.9" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#222222">renting from</text><text text-anchor="middle" x="558.3571428571429" y="354.9" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#222222">Lambeth</text></g><g><text text-anchor="middle" x="651.2142857142858" y="336.9" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#222222">owner</text><text text-anchor="middle" x="651.2142857142858" y="354.9" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#222222">private</text></g><g><text text-anchor="middle" x="744.0714285714286" y="336.9" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#222222">income</text><text text-anchor="middle" x="744.0714285714286" y="354.9" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#222222">support</text></g><g><text text-anchor="end" x="126" y="320.4" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#444444">-100</text></g><g><text text-anchor="end" x="126" y="260.4" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#444444">0</text></g><g><text text-anchor="end" x="126" y="200.4" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#444444">100</text></g><g><text text-anchor="end" x="126" y="140.4" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#444444">200</text></g><g><text text-anchor="end" x="126" y="80.4" font-family="Arial" font-size="14" stroke="none" stroke-width="0" fill="#444444">300</text></g></g></g><g></g></svg><div aria-label="A tabular representation of the data in the chart." style="position: absolute; left: -10000px; top: auto; width: 1px; height: 1px; overflow: hidden;"><table><thead><tr><th>Group</th><th>Orig Value</th><th>Percent</th><th>Diff from Avg</th></tr></thead><tbody><tr><td>disabled</td><td>18</td><td>0.286</td><td>-0</td></tr><tr><td>all</td><td>298</td><td>0.286</td><td>0</td></tr><tr><td>child benefits</td><td>36</td><td>0.25</td><td>-0.036</td></tr><tr><td>employee in full-time job</td><td>123</td><td>0.292</td><td>0.006</td></tr><tr><td>renting from Lambeth</td><td>62</td><td>0.261</td><td>-0.025</td></tr><tr><td>owner private</td><td>113</td><td>0.352</td><td>0.066</td></tr><tr><td>income support</td><td>10</td><td>0.175</td><td>-0.111</td></tr></tbody></table></div></div></div><div aria-hidden="true" style="display: none; position: absolute; top: 400px; left: 940px; white-space: nowrap; font-family: Arial; font-size: 14px; font-weight: bold;">298</div><div></div></div></div>
  <script type="text/javascript">
    google.setOnLoadCallback(drawChartxhnzaskDzu);
    function drawChartxhnzaskDzu() {

        var data = google.visualization.arrayToDataTable([["Group", "Orig Value", "Percent", "Diff from Avg"], ["disabled", 18, 0.2857142857142857, -0.0002741979709350306], ["long term illness", 16, 0.26666666666666666, -0.019321817018554066], ["all", 298, 0.28598848368522073, 0.0], ["child benefits", 36, 0.25, -0.03598848368522073], ["employee in full-time job", 123, 0.2921615201900237, 0.006173036504802998], ["renting from Lambeth", 62, 0.2605042016806723, -0.025484282004548442], ["owner private", 113, 0.35202492211838005, 0.06603643843315932], ["income support", 10, 0.17543859649122806, -0.11054988719399267]], false);




        var options = {"title": "question"}



    var chart = new google.visualization.ColumnChart(document.getElementById('xhnzaskDzu'));

    google.visualization.events.addListener(chart, 'select', function() {
      var selectedItem = chart.getSelection()[0];
      if (selectedItem) {
        var value = selectedItem.column;

        var question = options['title'].match(/\w+/i)[0] + "_R" + (selectedItem.row+1);

        loadCensusData("/clusters/json2/"+cluster_id+"/"+ question + "/" + value, question, value);
        redrawWardChart(cluster_id, question, 1);

      }
    });


      //hides real question choice index
      var view = new google.visualization.DataView(data);
      view.hideRows(1,1);

      chart.draw(view, options);
      chartxhnzaskDzu = chart;
    }
  </script>
</body>
<html>
