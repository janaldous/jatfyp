{% extends "graphosjat/gchart/base.html" %}

{% block create_chart %}
  var chart = new google.visualization.BarChart(document.getElementById('{{ chart.get_html_id }}'));

  google.visualization.events.addListener(chart, 'select', function() {
    var selectedItem = chart.getSelection()[0];
    if (selectedItem) {
      var value = data.getColumnLabel(selectedItem.column);
      var question_letter = String.fromCharCode(97 + selectedItem.row).toUpperCase();

      var question = options['title'].match(/\w+/i)[0] + question_letter;

      loadCensusData("/clusters/json2/1/"+ question + "/1");

      document.getElementById("showing").innerHTML = question + "/" + value;
    }
  });
{% endblock %}
